#
# Executes commands at the start of an interactive session.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#

# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

# Customize to your needs...

export DOT=$HOME/.dotfiles/

# load the path files
for file in $(find $DOT -maxdepth 2 -name 'path.zsh')
do
    source $file
done

# load everything but the path and completion files
for file in $(find $DOT -maxdepth 2 -name '*.zsh' -and -not -name "path.zsh" -and -not -name "completion.zsh")
do
    source $file
done

# initialize autocomplete here, otherwise functions won't be loaded
autoload -U compinit
compinit

# load every completion after autocomplete loads
for file in $(find $DOT -maxdepth 2 -name 'completion.zsh')
do
    source $file
done
